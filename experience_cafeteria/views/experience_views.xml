<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- VISTAS DE PREFERENCIAS DE CLIENTE -->
    <record id="view_cliente_preferencias_tree" model="ir.ui.view">
        <field name="name">cliente.preferencias.tree</field>
        <field name="model">cliente.preferencias</field>
        <field name="arch" type="xml">
            <tree>
                <field name="cliente_id"/>
                <field name="bebida_favorita"/>
                <field name="tipo_cafe"/>
                <field name="visitas_totales"/>
                <field name="gasto_total" widget="monetary"/>
                <field name="cliente_habitual" widget="boolean_toggle"/>
            </tree>
        </field>
    </record>

    <record id="view_cliente_preferencias_form" model="ir.ui.view">
        <field name="name">cliente.preferencias.form</field>
        <field name="model">cliente.preferencias</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <group>
                        <group>
                            <field name="cliente_id" options="{'no_create': True}"/>
                            <field name="telefono" readonly="1"/>
                            <field name="email" readonly="1"/>
                        </group>
                        <group>
                            <field name="visitas_totales" readonly="1"/>
                            <field name="gasto_total" readonly="1" widget="monetary"/>
                            <field name="cliente_habitual" readonly="1"/>
                        </group>
                    </group>
                    <notebook>
                        <page string="Preferencias de Bebida">
                            <group>
                                <field name="bebida_favorita"/>
                                <field name="tipo_cafe"/>
                                <field name="temperatura_preferida"/>
                                <field name="tipo_leche"/>
                                <field name="azucar"/>
                            </group>
                        </page>
                        <page string="Preferencias de Comida">
                            <group>
                                <field name="comida_favorita"/>
                                <field name="alergenos" widget="many2many_tags"/>
                                <field name="observaciones_dieta" widget="textarea"/>
                            </group>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>

    <!-- VISTAS DE ENCUESTAS -->
    <record id="view_encuesta_satisfaccion_tree" model="ir.ui.view">
        <field name="name">encuesta.satisfaccion.tree</field>
        <field name="model">encuesta.satisfaccion</field>
        <field name="arch" type="xml">
            <tree>
                <field name="fecha"/>
                <field name="cliente_id"/>
                <field name="puntuacion_general"/>
                <field name="media_puntuacion"/>
                <field name="nivel_satisfaccion" widget="badge"/>
                <field name="volveria"/>
            </tree>
        </field>
    </record>

    <record id="view_encuesta_satisfaccion_form" model="ir.ui.view">
        <field name="name">encuesta.satisfaccion.form</field>
        <field name="model">encuesta.satisfaccion</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <group>
                        <group>
                            <field name="cliente_id"/>
                            <field name="pedido_id"/>
                            <field name="mesa_id"/>
                            <field name="fecha"/>
                        </group>
                        <group>
                            <field name="media_puntuacion" readonly="1"/>
                            <field name="nivel_satisfaccion" readonly="1" widget="badge"/>
                        </group>
                    </group>
                    <group string="Puntuaciones">
                        <group>
                            <field name="puntuacion_general" widget="rating"/>
                            <field name="puntuacion_comida" widget="rating"/>
                            <field name="puntuacion_bebida" widget="rating"/>
                        </group>
                        <group>
                            <field name="puntuacion_servicio" widget="rating"/>
                            <field name="puntuacion_ambiente" widget="rating"/>
                        </group>
                    </group>
                    <group string="Feedback">
                        <field name="volveria"/>
                        <field name="recomendaria"/>
                        <field name="comentario" widget="textarea"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- VISTAS DE QUEJAS -->
    <record id="view_queja_sugerencia_tree" model="ir.ui.view">
        <field name="name">queja.sugerencia.tree</field>
        <field name="model">queja.sugerencia</field>
        <field name="arch" type="xml">
            <tree>
                <field name="fecha"/>
                <field name="cliente_id"/>
                <field name="tipo"/>
                <field name="categoria"/>
                <field name="prioridad" widget="badge"/>
                <field name="estado" widget="badge"/>
                <field name="responsable_id"/>
            </tree>
        </field>
    </record>

    <record id="view_queja_sugerencia_form" model="ir.ui.view">
        <field name="name">queja.sugerencia.form</field>
        <field name="model">queja.sugerencia</field>
        <field name="arch" type="xml">
            <form>
                <header>
                    <field name="estado" widget="statusbar"/>
                </header>
                <sheet>
                    <group>
                        <group>
                            <field name="cliente_id"/>
                            <field name="encuesta_id"/>
                            <field name="fecha"/>
                        </group>
                        <group>
                            <field name="tipo"/>
                            <field name="categoria"/>
                            <field name="prioridad"/>
                        </group>
                    </group>
                    <group>
                        <field name="descripcion" widget="textarea"/>
                        <field name="accion_tomada" widget="textarea"/>
                    </group>
                    <group>
                        <field name="responsable_id"/>
                        <field name="fecha_resolucion"/>
                        <field name="notificar_cliente"/>
                        <field name="notificado"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- VISTA KANBAN PARA QUEJAS -->
    <record id="view_queja_sugerencia_kanban" model="ir.ui.view">
        <field name="name">queja.sugerencia.kanban</field>
        <field name="model">queja.sugerencia</field>
        <field name="arch" type="xml">
            <kanban class="o_kanban_mobile">
                <field name="tipo"/>
                <field name="categoria"/>
                <field name="prioridad"/>
                <field name="estado"/>
                <field name="cliente_id"/>
                <field name="descripcion"/>
                <templates>
                    <t t-name="kanban-box">
                        <div class="oe_kanban_global_click">
                            <div class="o_kanban_record_header">
                                <strong t-field="record.cliente_id"/>
                                <span t-field="record.fecha" t-options='{"widget": "date"}'/>
                            </div>
                            <div class="o_kanban_record_content">
                                <span t-esc="record.descripcion.value" t-options='{"widget": "text"}'/>
                                <div class="mt-2">
                                    <span t-field="record.tipo" t-options='{"widget": "badge"}'/>
                                    <span t-field="record.prioridad" t-options='{"widget": "badge"}'/>
                                    <span t-field="record.estado" t-options='{"widget": "badge"}'/>
                                </div>
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>

    <!-- VISTA DE BÚSQUEDA PARA QUEJAS -->
    <record id="view_queja_sugerencia_search" model="ir.ui.view">
        <field name="name">queja.sugerencia.search</field>
        <field name="model">queja.sugerencia</field>
        <field name="arch" type="xml">
            <search>
                <field name="cliente_id"/>
                <field name="descripcion"/>
                <filter name="pendientes" string="Pendientes" domain="[('estado','=','pendiente')]"/>
                <filter name="alta_prioridad" string="Prioridad Alta" domain="[('prioridad','=','alta')]"/>
                <filter name="quejas" string="Quejas" domain="[('tipo','=','queja')]"/>
                <group expand="0" string="Agrupar por">
                    <filter name="group_estado" string="Estado" context="{'group_by':'estado'}"/>
                    <filter name="group_prioridad" string="Prioridad" context="{'group_by':'prioridad'}"/>
                    <filter name="group_tipo" string="Tipo" context="{'group_by':'tipo'}"/>
                </group>
            </search>
        </field>
    </record>

    <!-- VISTAS DE SEGUIMIENTO -->
    <record id="view_seguimiento_cliente_tree" model="ir.ui.view">
        <field name="name">seguimiento.cliente.tree</field>
        <field name="model">seguimiento.cliente</field>
        <field name="arch" type="xml">
            <tree>
                <field name="fecha"/>
                <field name="cliente_id"/>
                <field name="tipo_accion"/>
                <field name="empleado_id"/>
                <field name="descripcion"/>
            </tree>
        </field>
    </record>

    <record id="view_seguimiento_cliente_form" model="ir.ui.view">
        <field name="name">seguimiento.cliente.form</field>
        <field name="model">seguimiento.cliente</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <group>
                        <group>
                            <field name="cliente_id"/>
                            <field name="fecha"/>
                            <field name="tipo_accion"/>
                        </group>
                        <group>
                            <field name="empleado_id"/>
                            <field name="queja_id"/>
                            <field name="encuesta_id"/>
                        </group>
                    </group>
                    <group>
                        <field name="descripcion" widget="textarea"/>
                        <field name="resultado" widget="textarea"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- VISTAS DE ALÉRGENOS -->
    <record id="view_product_alergenos_tree" model="ir.ui.view">
        <field name="name">product.alergenos.tree</field>
        <field name="model">product.alergenos</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name"/>
                <field name="codigo"/>
                <field name="descripcion"/>
            </tree>
        </field>
    </record>

    <record id="view_product_alergenos_form" model="ir.ui.view">
        <field name="name">product.alergenos.form</field>
        <field name="model">product.alergenos</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <group>
                        <field name="name"/>
                        <field name="codigo"/>
                    </group>
                    <group>
                        <field name="descripcion" widget="textarea"/>
                        <field name="icono" widget="image"/>
                    </group>
                    <group>
                        <field name="producto_ids" widget="many2many_tags"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>
</odoo>